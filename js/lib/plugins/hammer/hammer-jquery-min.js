
YUI().add("hammer-jquery",function(){var h=window,a=function(b,c){return new a.Instance(b,c||{})};a.defaults={stop_browser_behavior:{userSelect:"none",touchCallout:"none",touchAction:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};a.HAS_POINTEREVENTS=navigator.msPointerEnabled;a.HAS_TOUCHEVENTS="ontouchstart"in h;a.EVENT_TYPES={};a.DIRECTION_DOWN="down";a.DIRECTION_LEFT="left";a.DIRECTION_UP="up";a.DIRECTION_RIGHT="right";a.POINTER_MOUSE="mouse";a.POINTER_TOUCH="touch";
a.EVENT_START="start";a.EVENT_MOVE="move";a.EVENT_END="end";a.plugins={};a.READY=!1;a.Instance=function(b,c){var d=this;if(!a.READY){a.event.determineEventTypes();for(var e in a.gestures)a.gestures.hasOwnProperty(e)&&a.gesture.register(a.gestures[e]);a.event.onTouch(document,a.EVENT_MOVE,a.gesture.detect);a.event.onTouch(document,a.EVENT_END,a.gesture.endDetect);a.READY=!0}this.element=b;this.options=a.utils.extend(a.utils.extend({},a.defaults),c||{});this.options.stop_browser_behavior&&a.utils.stopDefaultBrowserBehavior(this);
a.event.onTouch(b,a.EVENT_START,function(b){return a.gesture.startDetect(d,b)});return this};a.Instance.prototype={on:function(b,c){b=b.split(" ");for(var a=0;a<b.length;a++)this.element.addEventListener(b[a],c,!1);return this},off:function(b,c){b=b.split(" ");for(var a=0;a<b.length;a++)this.element.removeEventListener(b[a],c,!1);return this},trigger:function(b,c){var a=document.createEvent("Event");a.initEvent(b,!0,!0);a.gesture=c;return this.element.dispatchEvent(a)}};var j=null,k=!1;a.event={bindDom:function(b,
c,a){c=c.split(" ");for(var e=0;e<c.length;e++)b.addEventListener(c[e],a,!1)},onTouch:function(b,c,d){function e(e){c===a.EVENT_END?null!==j&&(e=j):j=e;d.call(a.gesture,f.collectEventData(b,c,e))}var f=this;a.HAS_TOUCHEVENTS&&!a.HAS_POINTEREVENTS?this.bindDom(b,a.EVENT_TYPES[c],function(b){e.call(this,b)}):this.bindDom(b,a.EVENT_TYPES[c],function(b){if(b.type.match(/down|move/i)&&(1===b.which||b.pointerType&&b.pointerType==b.MSPOINTER_TYPE_TOUCH))k=!0;k?(a.HAS_POINTEREVENTS&&c!=a.EVENT_END&&a.PointerEvent.updatePointer(c,
b),e.call(this,b),a.HAS_POINTEREVENTS&&c==a.EVENT_END&&a.PointerEvent.updatePointer(c,b)):a.PointerEvent.reset();b.type.match(/up|cancel/i)&&(k=!1)})},determineEventTypes:function(){var b;b=a.HAS_POINTEREVENTS?["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel"]:a.HAS_TOUCHEVENTS?["touchstart","touchmove","touchend touchcancel"]:["mousedown","mousemove","mouseup"];a.EVENT_TYPES[a.EVENT_START]=b[0];a.EVENT_TYPES[a.EVENT_MOVE]=b[1];a.EVENT_TYPES[a.EVENT_END]=b[2]},getTouchList:function(b){return a.HAS_POINTEREVENTS?
a.PointerEvent.getPointers():a.HAS_TOUCHEVENTS?b.touches:[{identifier:1,pageX:b.pageX,pageY:b.pageY,target:b.target}]},collectEventData:function(b,c,d){b=this.getTouchList(d,c);var e=a.POINTER_TOUCH;if(d.type.match(/mouse/)||d.poinerType&&d.pointerType==d.MSPOINTER_TYPE_MOUSE)e=a.POINTER_MOUSE;return{center:a.utils.getCenter(b),timestamp:d.timestamp||(new Date).getTime(),target:d.target,touches:b,eventType:c,pointerType:e,srcEvent:d,preventDefault:function(){this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},
stop:function(){return a.gesture.stop()}}}};a.PointerEvent={pointers:{},getPointers:function(){var b=this.pointers,c=[];Object.keys(b).sort().forEach(function(a){c.push(b[a])});return c},updatePointer:function(b,c){b==a.EVENT_END?delete this.pointers[c.pointerId]:this.pointers[c.pointerId]=c},reset:function(){this.pointers={}}};var l=Math.PI;a.utils={extend:function(b,c,a){a=a||0;for(var e in c)c.hasOwnProperty(e)&&(b[e]=a&&"object"==typeof c[e]?this.extend({},c[e],a-1):c[e]);return b},getCenter:function(b){for(var a=
[],d=[],e=0,f=b.length;e<f;e++)a.push(b[e].pageX),d.push(b[e].pageY);return{pageX:(Math.min.apply(Math,a)+Math.max.apply(Math,a))/2,pageY:(Math.min.apply(Math,d)+Math.max.apply(Math,d))/2}},getVelocity:function(b,a,d){return{x:Math.abs(a/b)||0,y:Math.abs(d/b)||0}},getAngle:function(b,a){return 180*Math.atan2(a.pageY-b.pageY,a.pageX-b.pageX)/l},getDirection:function(b,c){var d=Math.abs(b.pageX-c.pageX),e=Math.abs(b.pageY-c.pageY);return d>=e?0<b.pageX-c.pageX?a.DIRECTION_LEFT:a.DIRECTION_RIGHT:0<b.pageY-
c.pageY?a.DIRECTION_UP:a.DIRECTION_DOWN},getDistance:function(b,a){var d=a.pageX-b.pageX,e=a.pageY-b.pageY;return Math.sqrt(d*d+e*e)},getScale:function(b,a){return 2<=b.length&&2<=a.length?this.getDistance(a[0],a[1])/this.getDistance(b[0],b[1]):1},getRotation:function(b,a){return 2<=b.length&&2<=a.length?this.getAngle(a[1],a[0])-this.getAngle(b[1],b[0]):0},isVertical:function(b){return b==a.DIRECTION_UP||b==a.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(b){var a,d="webkit khtml moz ms o ".split(" "),
e=b.options.stop_browser_behavior;if(e){for(var f=0;f<d.length;f++)for(var g in e)e.hasOwnProperty(g)&&(a=g,d[f]&&(a=d[f]+a.substring(0,1).toUpperCase()+a.substring(1)),b.element.style[a]=e[g]);"none"==e.userSelect&&(b.element.onselectstart=function(){return!1})}}};a.gesture={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(b,c){if(!this.current)return this.stopped=!1,this.current={inst:b,startEvent:a.utils.extend({},c),lastEvent:!1,name:""},this.detect(c)},detect:function(b){if(this.current&&
!this.stopped){b=this.extendEventData(b);for(var a=this.current.inst.options,d=0,e=this.gestures.length;d<e;d++){var f=this.gestures[d];if(!this.stopped&&!1!==a[f.name]&&!1===f.handler.call(f,b,this.current.inst)){this.stop();break}}this.current&&(this.current.lastEvent=b)}},endDetect:function(b){this.detect(b);this.stop()},stop:function(){this.previous=a.utils.extend({},this.current);this.current=null;this.stopped=!0},extendEventData:function(b){var c=this.current.startEvent;c&&b.touches.length!=
c.touches.length&&(c.touches=a.utils.extend({},b.touches,1));var d=b.timestamp-c.timestamp,e=b.center.pageX-c.center.pageX,f=b.center.pageY-c.center.pageY,g=a.utils.getVelocity(d,e,f);a.utils.extend(b,{deltaTime:d,deltaX:e,deltaY:f,velocityX:g.x,velocityY:g.y,distance:a.utils.getDistance(c.center,b.center),angle:a.utils.getAngle(c.center,b.center),direction:a.utils.getDirection(c.center,b.center),scale:a.utils.getScale(c.touches,b.touches),rotation:a.utils.getRotation(c.touches,b.touches),startEvent:c});
return b},register:function(b){var c=b.defaults||{};"undefined"==typeof c[b.name]&&(c[b.name]=!0);a.utils.extend(a.defaults,c);b.index=b.index||1E3;this.gestures.push(b);this.gestures.sort(function(b,a){return b.index<a.index?-1:b.index>a.index?1:0});return this.gestures}};a.gestures=a.gestures||{};a.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:3},timer:null,handler:function(b,c){switch(b.eventType){case a.EVENT_START:clearTimeout(this.timer);a.gesture.current.name=
this.name;this.timer=setTimeout(function(){"hold"==a.gesture.current.name&&c.trigger("hold",b)},c.options.hold_timeout);break;case a.EVENT_MOVE:b.distance>c.options.hold_treshold&&clearTimeout(this.timer);break;case a.EVENT_END:clearTimeout(this.timer)}}};a.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,doubletap_distance:20,doubletap_interval:300},handler:function(b,c){if(b.eventType==a.EVENT_END){var d=a.gesture.previous;b.deltaTime>c.options.tap_max_touchtime||
b.distance>c.options.tap_max_distance||(a.gesture.current.name=d&&"tap"==d.name&&b.timestamp-d.lastEvent.timestamp<c.options.doubletap_interval&&b.distance<c.options.doubletap_distance?"doubletap":"tap",c.trigger(a.gesture.current.name,b))}}};a.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:0.7},handler:function(b,c){if(b.eventType==a.EVENT_END&&!(0<c.options.swipe_max_touches&&b.touches.length>c.options.swipe_max_touches)&&(b.velocityX>c.options.swipe_velocity||
b.velocityY>c.options.swipe_velocity))c.trigger(this.name,b),c.trigger(this.name+b.direction,b)}};a.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1},triggered:!1,handler:function(b,c){if(a.gesture.current.name!=this.name&&this.triggered)c.trigger(this.name+"end",b),this.triggered=!1;else if(!(0<c.options.drag_max_touches&&b.touches.length>c.options.drag_max_touches))switch(b.eventType){case a.EVENT_START:this.triggered=
!1;break;case a.EVENT_MOVE:if(b.distance<c.options.drag_min_distance&&a.gesture.current.name!=this.name)break;a.gesture.current.name=this.name;var d=a.gesture.current.lastEvent.direction;c.options.drag_lock_to_axis&&d!==b.direction&&(b.direction=a.utils.isVertical(d)?0>b.deltaY?a.DIRECTION_UP:a.DIRECTION_DOWN:0>b.deltaX?a.DIRECTION_LEFT:a.DIRECTION_RIGHT);this.triggered||(c.trigger(this.name+"start",b),this.triggered=!0);c.trigger(this.name,b);c.trigger(this.name+b.direction,b);(c.options.drag_block_vertical&&
a.utils.isVertical(b.direction)||c.options.drag_block_horizontal&&!a.utils.isVertical(b.direction))&&b.preventDefault();break;case a.EVENT_END:this.triggered&&c.trigger(this.name+"end",b),this.triggered=!1}}};a.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:0.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(b,c){if(a.gesture.current.name!=this.name&&this.triggered)c.trigger(this.name+"end",b),this.triggered=!1;else if(!(2>b.touches.length))switch(c.options.transform_always_block&&
b.preventDefault(),b.eventType){case a.EVENT_START:this.triggered=!1;break;case a.EVENT_MOVE:var d=Math.abs(1-b.scale),e=Math.abs(b.rotation);if(d<c.options.transform_min_scale&&e<c.options.transform_min_rotation)break;a.gesture.current.name=this.name;this.triggered||(c.trigger(this.name+"start",b),this.triggered=!0);c.trigger(this.name,b);e>c.options.transform_min_rotation&&c.trigger("rotate",b);d>c.options.transform_min_scale&&(c.trigger("pinch",b),c.trigger("pinch"+(1>b.scale?"in":"out"),b));break;
case a.EVENT_END:this.triggered&&c.trigger(this.name+"end",b),this.triggered=!1}}};a.gestures.Touch={name:"touch",index:-Infinity,defaults:{prevent_default:!1},handler:function(b,c){c.options.prevent_default&&b.preventDefault();b.eventType==a.EVENT_START&&c.trigger(this.name,b)}};a.gestures.Release={name:"release",index:Infinity,handler:function(b,c){b.eventType==a.EVENT_END&&c.trigger(this.name,b)}};h.Hammer=a;"function"===typeof h.define&&h.define.amd&&h.define("hammer",[],function(){return a});
var g=jQuery;Hammer.event.bindDom=function(b,a,d){g(b).on(a,function(b){var a=b.originalEvent;a.pageX||(a.pageX=b.pageX,a.pageY=b.pageY);a.target||(a.target=b.target);a.button&&(a.which=a.button);a.preventDefault||(a.preventDefault=b.preventDefault);a.stopPropagation||(a.stopPropagation=b.stopPropagation);d.call(this,a)})};Hammer.Instance.prototype.on=function(a,c){return g(this.element).on(a,c)};Hammer.Instance.prototype.off=function(a,c){return g(this.element).off(a,c)};Hammer.Instance.prototype.trigger=
function(a,c){return g(c.srcEvent.target).trigger({type:a,gesture:c})};g.fn.hammer=function(a){return this.each(function(){var c=g(this),d=c.data("hammer");d?d&&a&&Hammer.utils.extend(d.options,a):c.data("hammer",Hammer(this,a||{}))})}},"0.0.3",{});