YUI().add("jquery-ui-position",function(J,H){function B(a,c,b){return[parseInt(a[0],10)*(x.test(a[0])?c/100:1),parseInt(a[1],10)*(x.test(a[1])?b/100:1)]}var d=jQuery;d.ui=d.ui||{};var u,y=Math.max,p=Math.abs,C=Math.round,D=/left|center|right/,E=/top|center|bottom/,F=/[\+\-]\d+%?/,G=/^\w+/,x=/%$/,I=d.fn.position;d.position={scrollbarWidth:function(){if(u!==H)return u;var a,c,b=d("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"); c=b.children()[0];d("body").append(b);a=c.offsetWidth;b.css("overflow","scroll");c=c.offsetWidth;a===c&&(c=b[0].clientWidth);b.remove();return u=a-c},getScrollInfo:function(a){var c=a.isWindow?"":a.element.css("overflow-x"),b=a.isWindow?"":a.element.css("overflow-y"),b="scroll"===b||"auto"===b&&a.height<a.element[0].scrollHeight;return{width:"scroll"===c||"auto"===c&&a.width<a.element[0].scrollWidth?d.position.scrollbarWidth():0,height:b?d.position.scrollbarWidth():0}},getWithinInfo:function(a){a= d(a||window);var c=d.isWindow(a[0]);return{element:a,isWindow:c,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:c?a.width():a.outerWidth(),height:c?a.height():a.outerHeight()}}};d.fn.position=function(a){if(!a||!a.of)return I.apply(this,arguments);a=d.extend({},a);var c,b,l,q,f,e,A=d(a.of),k=d.position.getWithinInfo(a.within),m=d.position.getScrollInfo(k),j=(a.collision||"flip").split(" "),n={};e=A;var g=e[0];e=9===g.nodeType?{width:e.width(),height:e.height(), offset:{top:0,left:0}}:d.isWindow(g)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:g.preventDefault?{width:0,height:0,offset:{top:g.pageY,left:g.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()};A[0].preventDefault&&(a.at="left top");b=e.width;l=e.height;q=e.offset;f=d.extend({},q);d.each(["my","at"],function(){var b=(a[this]||"").split(" "),c,e;1===b.length&&(b=D.test(b[0])?b.concat(["center"]):E.test(b[0])?["center"].concat(b):["center", "center"]);b[0]=D.test(b[0])?b[0]:"center";b[1]=E.test(b[1])?b[1]:"center";c=F.exec(b[0]);e=F.exec(b[1]);n[this]=[c?c[0]:0,e?e[0]:0];a[this]=[G.exec(b[0])[0],G.exec(b[1])[0]]});1===j.length&&(j[1]=j[0]);"right"===a.at[0]?f.left+=b:"center"===a.at[0]&&(f.left+=b/2);"bottom"===a.at[1]?f.top+=l:"center"===a.at[1]&&(f.top+=l/2);c=B(n.at,b,l);f.left+=c[0];f.top+=c[1];return this.each(function(){var e,g,r=d(this),s=r.outerWidth(),t=r.outerHeight(),u=parseInt(d.css(this,"marginLeft"),10)||0,v=parseInt(d.css(this, "marginTop"),10)||0,w=s+u+(parseInt(d.css(this,"marginRight"),10)||0)+m.width,x=t+v+(parseInt(d.css(this,"marginBottom"),10)||0)+m.height,h=d.extend({},f),z=B(n.my,r.outerWidth(),r.outerHeight());"right"===a.my[0]?h.left-=s:"center"===a.my[0]&&(h.left-=s/2);"bottom"===a.my[1]?h.top-=t:"center"===a.my[1]&&(h.top-=t/2);h.left+=z[0];h.top+=z[1];d.support.offsetFractions||(h.left=C(h.left),h.top=C(h.top));e={marginLeft:u,marginTop:v};d.each(["left","top"],function(f,q){if(d.ui.position[j[f]])d.ui.position[j[f]][q](h, {targetWidth:b,targetHeight:l,elemWidth:s,elemHeight:t,collisionPosition:e,collisionWidth:w,collisionHeight:x,offset:[c[0]+z[0],c[1]+z[1]],my:a.my,at:a.at,within:k,elem:r})});a.using&&(g=function(c){var e=q.left-h.left,d=e+b-s,f=q.top-h.top,g=f+l-t,k={target:{element:A,left:q.left,top:q.top,width:b,height:l},element:{element:r,left:h.left,top:h.top,width:s,height:t},horizontal:0>d?"left":0<e?"right":"center",vertical:0>g?"top":0<f?"bottom":"middle"};b<s&&p(e+d)<b&&(k.horizontal="center");l<t&&p(f+ g)<l&&(k.vertical="middle");k.important=y(p(e),p(d))>y(p(f),p(g))?"horizontal":"vertical";a.using.call(this,c,k)});r.offset(d.extend(h,{using:g}))})};d.ui.position={fit:{left:function(a,c){var b=c.within,l=b.isWindow?b.scrollLeft:b.offset.left,d=b.width,f=a.left-c.collisionPosition.marginLeft,b=l-f,e=f+c.collisionWidth-d-l;c.collisionWidth>d?0<b&&0>=e?(l=a.left+b+c.collisionWidth-d-l,a.left+=b-l):a.left=0<e&&0>=b?l:b>e?l+d-c.collisionWidth:l:a.left=0<b?a.left+b:0<e?a.left-e:y(a.left-f,a.left)},top:function(a, c){var b=c.within,d=b.isWindow?b.scrollTop:b.offset.top,g=c.within.height,f=a.top-c.collisionPosition.marginTop,b=d-f,e=f+c.collisionHeight-g-d;c.collisionHeight>g?0<b&&0>=e?(d=a.top+b+c.collisionHeight-g-d,a.top+=b-d):a.top=0<e&&0>=b?d:b>e?d+g-c.collisionHeight:d:a.top=0<b?a.top+b:0<e?a.top-e:y(a.top-f,a.top)}},flip:{left:function(a,c){var b=c.within,d=b.offset.left+b.scrollLeft,g=b.width,f=b.isWindow?b.scrollLeft:b.offset.left,e=a.left-c.collisionPosition.marginLeft,b=e-f,j=e+c.collisionWidth-g- f,e="left"===c.my[0]?-c.elemWidth:"right"===c.my[0]?c.elemWidth:0,k="left"===c.at[0]?c.targetWidth:"right"===c.at[0]?-c.targetWidth:0,m=-2*c.offset[0];if(0>b){if(d=a.left+e+k+m+c.collisionWidth-g-d,0>d||d<p(b))a.left+=e+k+m}else if(0<j&&(d=a.left-c.collisionPosition.marginLeft+e+k+m-f,0<d||p(d)<j))a.left+=e+k+m},top:function(a,c){var b=c.within,d=b.offset.top+b.scrollTop,g=b.height,f=b.isWindow?b.scrollTop:b.offset.top,e=a.top-c.collisionPosition.marginTop,b=e-f,j=e+c.collisionHeight-g-f,e="top"=== c.my[1]?-c.elemHeight:"bottom"===c.my[1]?c.elemHeight:0,k="top"===c.at[1]?c.targetHeight:"bottom"===c.at[1]?-c.targetHeight:0,m=-2*c.offset[1];if(0>b){if(d=a.top+e+k+m+c.collisionHeight-g-d,a.top+e+k+m>b&&(0>d||d<p(b)))a.top+=e+k+m}else if(0<j&&(d=a.top-c.collisionPosition.marginTop+e+k+m-f,a.top+e+k+m>j&&(0<d||p(d)<j)))a.top+=e+k+m}},flipfit:{left:function(){d.ui.position.flip.left.apply(this,arguments);d.ui.position.fit.left.apply(this,arguments)},top:function(){d.ui.position.flip.top.apply(this, arguments);d.ui.position.fit.top.apply(this,arguments)}}};var g,j,n,v,w=document.getElementsByTagName("body")[0];n=document.createElement("div");g=document.createElement(w?"div":"body");j={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};w&&d.extend(j,{position:"absolute",left:"-1000px",top:"-1000px"});for(v in j)g.style[v]=j[v];g.appendChild(n);j=w||document.documentElement;j.insertBefore(g,j.firstChild);n.style.cssText="position: absolute; left: 10.7432222px;";n=d(n).offset().left; d.support.offsetFractions=10<n&&11>n;g.innerHTML="";j.removeChild(g)},"1.0",{requires:[]});